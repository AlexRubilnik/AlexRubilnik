{% extends "FregatMonitoringApp/base.html" %}

{% block furnace_errors_log_scripts %}
<link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
 <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
{% load static %}
{% endblock %}

{% block left_side_bar %}
<div class="left-side-bar">
    <ul style="padding-left: 0px;">
      {% if Furnace_No == 1 %}                                                                                            
          <li class="left-side-bar-list"><a href="{% url 'FregatMonitoringApp:furnace_base_trends' 1%}"> Тренды </a></li>
          <li class="left-side-bar-list"><a href="{% url 'FregatMonitoringApp:furnace_errors_log' 1%}"> Журнал ошибок </a></li>
      {% elif Furnace_No == 2%}
          <li class="left-side-bar-list"><a href="{% url 'FregatMonitoringApp:furnace_base_trends' 2%}"> Тренды </a></li>
          <li class="left-side-bar-list"><a href="{% url 'FregatMonitoringApp:furnace_errors_log' 2%}"> Журнал ошибок </a></li>
      {% endif %}
      <li class="left-side-bar-list"><a href="{% url 'FregatMonitoringApp:auto_melts_types_info' 1 %}"> Режимы плавок </a></li>
    </ul>
</div>
{% endblock%}  

{% block furnace_errors_log %}
<div class="content-box">
  <div id="FurErrlog" class="content-page-header">Журнал ошибок печи {{Furnace_No}}
    <div style="width: 20px;"></div>
    <div class="trend-period">Начальное время</div> 
    <input align="right" type="datetime-local"  id="start_time" name="start_time" value="{{ Start_time }}"/> 
    <div class="trend-period">Конечное время</div>
    <input align="right" type="datetime-local"  id="stop_time" name="stop_time" value="{{ Stop_time }}"/>
    <input class="btn" id="trend_update_btn" name="ChangeTrendPeriod_btn" value="загрузить" onclick=furnace_errors_log_update({{Furnace_No}})>
  </div>
  <div style="text-align: left"><span id="data-download-marker" hidden=true> Подождите. Идёт загрузка данных </span><span id="ddm1" hidden=true>.</span><span id="ddm2" hidden=true>.</span><span id="ddm3" hidden=true>.</span></div>
  <div id="furnace_errors_log_block" style="position: absolute;"> 
    <div id="furnace_errors_log_table" style="max-height: 700px;"></div>
  </div>    

  <script src="{% static 'FregatMonitoringApp/scripts/furnace_errors_log_update.js' %}"> </script>
</div>
{% endblock %}