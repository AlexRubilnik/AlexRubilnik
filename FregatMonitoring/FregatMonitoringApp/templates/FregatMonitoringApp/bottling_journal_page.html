{% extends "FregatMonitoringApp/bottling_page.html" %}

{% block bottling_journal_scripts %}
<link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
 <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0/build/global/luxon.min.js"></script>
{% load static %}
{% endblock %}

{% block bottling_journal %}
<div class="content-box">
  <div id="Meltslog" class="content-page-header">Журнал
    <div style="width: 20px;"></div>
    <div class="bottling_filters">Год</div> 
    <input style="max-width:100px;" type="number" align="right" id="bottling_year" name="bottling_year " /> 
    <script> var today = new Date()
             year = today.getFullYear()
             document.getElementById('bottling_year').value = year
    </script>
    <div style="width: 20px;"></div>
    <div class="bottling_filters">№ Розлива</div> 
    <input style="max-width:100px;" align="right" id="bottling_lot" name="bottling_lot"/> 
    <div style="width: 20px;"></div>
    <div class="bottling_filters">Марка сплава</div> 
    <input style="max-width:100px;" list="grades" align="right" id="bottling_grade" name="bottling_grade"/>
    <datalist id="grades">
       {% for grade in grades_list %}
           <option> {{ grade }} </option>
       {% endfor %}
    </datalist> 
    <input class="btn" id="trend_update_btn" name="ChangeTrendPeriod_btn" value="загрузить" onclick=bottling_journal_update()>
  </div>
  <div style="text-align: left"><span id="data-download-marker" hidden=true> Подождите. Идёт загрузка данных </span><span id="ddm1" hidden=true>.</span><span id="ddm2" hidden=true>.</span><span id="ddm3" hidden=true>.</span></div>
  <div id="bottling-journal-block" style="position: absolute;"> 
    <div id="bottling-journal-table" style="max-height: 700px;"></div>
  </div>    

  <script src="{% static 'FregatMonitoringApp/scripts/bottling_journal_update.js' %}"> </script>
</div>
{% endblock %}
  
